
Options -MultiViews
RewriteEngine On

# Dynamically set RewriteBase if in a subfolder
RewriteCond %{REQUEST_URI} ^/(.+?)/
RewriteRule ^ - [E=BASE:%1]
RewriteBase /

# If you deploy in a subfolder, uncomment and set the line below:
# RewriteBase /DACS/

# Redirect to index.php if the file or directory doesn't exist
RewriteCond %{REQUEST_FILENAME} !-d
RewriteCond %{REQUEST_FILENAME} !-f
RewriteRule ^(.+)$ index.php?url=$1 [QSA,L]

# Prevent direct access to sensitive files and directories
RewriteRule ^app/ - [F,L]
RewriteRule ^\.git/ - [F,L]
